{"version":3,"file":"erase.js","sources":["../../../../../core/dist/src/erase.js"],"sourcesContent":["var drawImage = function drawImage(destination, source) {\n  var globalCompositeOperation = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 'source-over';\n  destination.save();\n  destination.imageSmoothingEnabled = true;\n  destination.imageSmoothingQuality = 'high';\n  destination.globalCompositeOperation = globalCompositeOperation;\n  destination.resetTransform();\n  destination.drawImage(source.canvas, 0, 0);\n  destination.restore();\n};\n\n/**\n *\n * @param destination context to erase\n * @param source context on which the path is drawn upon\n * @param erasingEffect effect to apply to {@link source} after clipping {@link destination}:\n * - drawing all non erasable visuals to achieve a selective erasing effect.\n * - drawing all erasable visuals without their erasers to achieve an undo erasing effect.\n */\nvar erase = function erase(destination, source, erasingEffect) {\n  // clip destination\n  drawImage(destination, source, 'destination-out');\n\n  // draw erasing effect\n  if (erasingEffect) {\n    drawImage(source, erasingEffect, 'source-in');\n  } else {\n    source.save();\n    source.resetTransform();\n    source.clearRect(0, 0, source.canvas.width, source.canvas.height);\n    source.restore();\n  }\n};\n\nexport { drawImage, erase };\n//# sourceMappingURL=erase.js.map\n"],"names":["drawImage","destination","source","globalCompositeOperation","arguments","length","undefined","save","imageSmoothingEnabled","imageSmoothingQuality","resetTransform","canvas","restore","erase","erasingEffect","clearRect","width","height"],"mappings":"AAAaA,IAAAA,SAAS,GAAG,SAAZA,SAASA,CACpBC,WAAqC,EACrCC,MAAgC,EAE7B;AAAA,EAAA,IADHC,wBAAkD,GAAAC,SAAA,CAAAC,MAAA,GAAA,CAAA,IAAAD,SAAA,CAAA,CAAA,CAAA,KAAAE,SAAA,GAAAF,SAAA,CAAA,CAAA,CAAA,GAAG,aAAa,CAAA;EAElEH,WAAW,CAACM,IAAI,EAAE,CAAA;EAClBN,WAAW,CAACO,qBAAqB,GAAG,IAAI,CAAA;EACxCP,WAAW,CAACQ,qBAAqB,GAAG,MAAM,CAAA;EAC1CR,WAAW,CAACE,wBAAwB,GAAGA,wBAAwB,CAAA;EAC/DF,WAAW,CAACS,cAAc,EAAE,CAAA;EAC5BT,WAAW,CAACD,SAAS,CAACE,MAAM,CAACS,MAAM,EAAE,CAAC,EAAE,CAAC,CAAC,CAAA;EAC1CV,WAAW,CAACW,OAAO,EAAE,CAAA;AACvB,EAAA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACaC,IAAAA,KAAK,GAAG,SAARA,KAAKA,CAChBZ,WAAqC,EACrCC,MAAgC,EAChCY,aAAwC,EACrC;AACH;AACAd,EAAAA,SAAS,CAACC,WAAW,EAAEC,MAAM,EAAE,iBAAiB,CAAC,CAAA;;AAEjD;AACA,EAAA,IAAIY,aAAa,EAAE;AACjBd,IAAAA,SAAS,CAACE,MAAM,EAAEY,aAAa,EAAE,WAAW,CAAC,CAAA;AAC/C,GAAC,MAAM;IACLZ,MAAM,CAACK,IAAI,EAAE,CAAA;IACbL,MAAM,CAACQ,cAAc,EAAE,CAAA;AACvBR,IAAAA,MAAM,CAACa,SAAS,CAAC,CAAC,EAAE,CAAC,EAAEb,MAAM,CAACS,MAAM,CAACK,KAAK,EAAEd,MAAM,CAACS,MAAM,CAACM,MAAM,CAAC,CAAA;IACjEf,MAAM,CAACU,OAAO,EAAE,CAAA;AAClB,GAAA;AACF;;;;"}